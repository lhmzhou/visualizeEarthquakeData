<!DOCTYPE html>
<meta charset="utf-8">
<body>
  <!-- Recommendation: host this file on your own, since this will change without alerts -->
  <script src="/src/rel/datamaps.usa.js?v=1"></script>
  <h2>Global Map Test</h2>

  <div id="container1" style="position: relative; width: 500px; height: 450px;"></div>
 
     
     <script>
       //basic map config with custom fills, mercator projection
      var map = new Datamap({
        scope: 'subunits-global',
        element: document.getElementById('container1'),
        projection: '',
        geographyConfig: {
          dataUrl: 'test.json'
        },
        setProjection: function(element) {
          var projection = d3.geo.equirectangular()
            .center([-50, 50])
            .rotate([5.0, 0])
            .scale(4000)
            .translate([element.offsetWidth / 2, element.offsetHeight / 2]);
          var path = d3.geo.path()
            .projection(projection);
          
          return {path: path, projection: projection};
        },
        fills: {
          defaultFill: '#f0af0a',
          lt50: 'rgba(0,0,0,0.9)',
          gt50: ''
        },
        
        data: {
          '071': {fillKey: 'lt50' },
          '001': {fillKey: 'gt50' }       
        }
      });
      map.bubbles([
        {longitude: -77, latitude: 43, radius: 30, fillKey: 'gt50'}
      ], {
        popupOnHover: false,
        highlightOnHover: false
      });
      
     </script>
</body>
